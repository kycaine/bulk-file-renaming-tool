:root{--bg:#071029;--card:#0b1220;--muted:#94a3b8;--accent:#7c3aed;--glass:rgba(255,255,255,0.03);--success:#10b981;--danger:#ef4444;--text:#e6eef8}html,body{height:100%;margin:0;background:linear-gradient(180deg,#071029 0%,#051023 100%);color:var(--text);font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial}input,textarea,select{font-family:inherit;font-size:inherit;color:var(--text) !important;user-select:text;opacity:1 !important}input[type=text],input[type=email],input[type=password],textarea{outline:none !important;-webkit-user-select:text;user-select:text;-webkit-app-region:no-drag;pointer-events:auto !important;position:relative;z-index:10;color:var(--text) !important;background:var(--glass) !important;opacity:1 !important;caret-color:var(--text) !important}input[type=file]{pointer-events:auto;-webkit-app-region:no-drag}header{padding:28px 32px 12px}header h1{margin:0;font-weight:700;letter-spacing:-0.5px;font-size:28px}.subtitle{margin:6px 0 0;color:var(--muted)}main{padding:20px 32px 40px}.grid-layout{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;align-items:start}.span-3{grid-column:1/-1}.panel{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(2,6,23,0.6);display:flex;flex-direction:column}.panel h2{margin:0 0 8px;font-size:18px}.small-note{color:var(--muted);font-size:13px;margin:0 0 10px}.btn-row{display:flex;gap:10px;margin-bottom:12px}.btn-row button{background:linear-gradient(180deg,var(--accent),#5b21b6);border:none;color:white;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600}.btn-row button#btnClearFiles{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);font-weight:500}.mini{padding:6px 10px;border-radius:8px;background:linear-gradient(180deg,var(--accent),#5b21b6);border:none;color:white;cursor:pointer;font-weight:600}.file-list-header{display:flex;justify-content:flex-end;gap:8px;align-items:center;margin-bottom:8px}.file-list-header .muted{margin-right:auto;color:var(--muted);font-size:13px}.file-list-header .mini{font-size:13px}.file-table,.preview-table{width:100%;border-collapse:collapse;font-size:13px}.file-table th,.file-table td,.preview-table th,.preview-table td{padding:10px 8px;border-bottom:1px solid rgba(255,255,255,0.03);text-align:left}.file-table thead th,.preview-table thead th{color:var(--muted);font-weight:600;font-size:12px}.filename{font-weight:600}.segment-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;align-items:start}.segment-chip{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:26px 12px 12px;border-radius:14px;border:1px solid rgba(255,255,255,0.04);font-size:13px;display:flex;flex-direction:column;align-items:flex-start;min-height:76px;position:relative;overflow:visible}.segment-chip strong{display:block;font-size:13px;margin-top:0;margin-bottom:6px;color:var(--text)}.segment-chip .muted{color:var(--muted);font-size:13px}.detected-summary{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0 6px}.summary-badge{background:rgba(124,58,237,0.12);color:var(--accent);padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px}.preview-list{max-height:420px;overflow:auto}.controls-row{display:flex;gap:8px;align-items:center}.muted{color:var(--muted);font-size:13px}.template-line{display:flex;gap:8px;align-items:center;margin-top:8px;position:relative;z-index:10}.template-input{flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass) !important;color:var(--text) !important;-webkit-user-select:text;user-select:text;-webkit-app-region:no-drag;pointer-events:auto;opacity:1 !important;caret-color:var(--text) !important}.delete-template-line{background:linear-gradient(180deg,var(--accent),#5b21b6);border:none;color:white;padding:6px;border-radius:6px;font-weight:600}.rule-block{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;display:flex;flex-direction:column;gap:8px;position:relative;z-index:10}.rule-block label{font-size:13px;color:var(--muted);font-weight:600}.rule-block input[type=text]{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.08) !important;color:var(--text) !important;-webkit-user-select:text;user-select:text;-webkit-app-region:no-drag;pointer-events:auto;opacity:1 !important;caret-color:var(--text) !important}.rule-block button#btnSaveRule{background:linear-gradient(180deg,var(--accent),#5b21b6);border:none;color:white;padding:8px 10px;border-radius:8px;cursor:pointer}.rule-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;background:rgba(255,255,255,0.01);margin-top:8px;border:1px solid rgba(255,255,255,0.02)}.rule-item .deleteRuleBtn{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:6px 8px;border-radius:6px;cursor:pointer}button#btnAddTemplateLine,button#btnApplyTemplate{background:linear-gradient(180deg,var(--accent),#5b21b6);border:none;color:white;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600}input::placeholder{color:var(--muted) !important;opacity:0.7 !important}input:focus{outline:1px solid var(--accent) !important;outline-offset:0 !important}input:focus::placeholder{opacity:0.5 !important}@media (max-width:1100px){.grid-layout{grid-template-columns:1fr 1fr}.span-3{grid-column:1/-1}}@media (max-width:700px){.grid-layout{grid-template-columns:1fr}.span-3{grid-column:auto}}.grid-layout>section.panel:nth-of-type(2),.grid-layout>section.panel:nth-of-type(3),.grid-layout>section.panel:nth-of-type(4){min-height:320px}.grid-layout>section.panel:nth-of-type(2) .segment-list,.grid-layout>section.panel:nth-of-type(3) #ruleBuilder,.grid-layout>section.panel:nth-of-type(4) #templateBuilder{flex:1 1 auto;overflow:visible}.status{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(124,58,237,0.12);color:var(--accent);font-weight:600}.preview-row{display:flex;align-items:center;gap:12px;padding:8px 0;border-bottom:1px dashed rgba(255,255,255,0.05)}.preview-row:last-child{border-bottom:none}.old-name{flex:1 1 40%;color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.arrow{font-weight:700;color:var(--accent)}.new-name{flex:1 1 60%;font-weight:600}input[autofocus]{outline:1px solid var(--accent) !important;box-shadow:0 0 4px rgba(124,58,237,0.3) !important}
